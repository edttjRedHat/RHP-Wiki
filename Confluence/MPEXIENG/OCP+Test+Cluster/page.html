<p>OpenShift Container Platform (OCP) Test Cluster for MPEX Team test activities, aka Cluster Under Test (CUT).</p><ac:structured-macro ac:name="panel" ac:schema-version="1" ac:macro-id="45d93f63-2780-48ad-afd4-01048ce96f8e"><ac:parameter ac:name="borderWidth">0</ac:parameter><ac:parameter ac:name="borderStyle">none</ac:parameter><ac:rich-text-body><p><ac:structured-macro ac:name="toc" ac:schema-version="1" ac:macro-id="67e107a6-e747-4181-b931-e299202c302b"><ac:parameter ac:name="outline">true</ac:parameter></ac:structured-macro><ac:structured-macro ac:name="multiexcerpt-include" ac:schema-version="1" ac:macro-id="7c6da25c-b7f8-4b60-9944-81984c186f61"><ac:parameter ac:name="MultiExcerptName">Include--Global</ac:parameter><ac:parameter ac:name="DisableCaching">true</ac:parameter><ac:parameter ac:name="PageWithExcerpt"><ac:link><ri:page ri:content-title="MPEX Integrity Engineering" /></ac:link></ac:parameter><ac:parameter ac:name="shouldDisplayInlineCommentsInIncludes">false</ac:parameter></ac:structured-macro></p></ac:rich-text-body></ac:structured-macro><h1>Infrastructure</h1><p>Currently, the supported platform for CUT are:</p><ul><li>Bare Metal (BM) on-premise hardware.<ul><li><ac:link><ri:page ri:content-title="Bare Metal - Goldman Sach HW Cluster" /><ac:plain-text-link-body><![CDATA[Goldman Sach Configuration]]></ac:plain-text-link-body></ac:link></li></ul></li><li>Amazon Web Service (AWS) Cloud.<ul><li><ac:link><ri:page ri:content-title="Cloud - AWS Account" /><ac:plain-text-link-body><![CDATA[IENG Account]]></ac:plain-text-link-body></ac:link></li></ul></li></ul><h1>Tooling</h1><h2>Secret Management</h2><p>The <a href="https://vault.bitwarden.com/#/vault?organizationId=cd864c42-0667-4521-afb0-aae600ef844c&amp;collectionId=2b243874-ff92-48b7-a36f-b31601273469">BitWarden Collection</a> is used as secret storage. Installing <a href="https://bitwarden.com/help/cli/">BitWarden CLI</a> in your workstation, is highly recommended.</p><ac:structured-macro ac:name="note" ac:schema-version="1" ac:macro-id="52cf5114-029c-4e51-8424-4282131450ae"><ac:rich-text-body><p><ac:structured-macro ac:name="anchor" ac:schema-version="1" ac:macro-id="29c1b192-b2ba-4a0f-89f4-801eeea71fec"><ac:parameter ac:name="">BitWarden--Env--ProxyRequirement</ac:parameter></ac:structured-macro>In some country an HTTP Proxy may be needed, i.e. set Env. Var. <code>HTTP_PROXY='squid.corp.redhat.com:3128'</code>.</p></ac:rich-text-body></ac:structured-macro><ac:structured-macro ac:name="info" ac:schema-version="1" ac:macro-id="fdb0f880-399c-4bb1-9104-dcca0ca9e37f"><ac:rich-text-body><p>Please read this <a href="https://source.redhat.com/departments/it/it_information_security/wiki/intro_to_bitwarden_password_management_and_frequently_asked_questions">article</a> if you are not familiar with how to use BitWarden in Red Hat.</p></ac:rich-text-body></ac:structured-macro><ac:structured-macro ac:name="panel" ac:schema-version="1" ac:macro-id="1c6be2bd-0768-49ef-9b7f-4e3cd6b08b74"><ac:parameter ac:name="borderColor">black</ac:parameter><ac:parameter ac:name="borderStyle">solid</ac:parameter><ac:parameter ac:name="title">BitWarden CLI Installation</ac:parameter><ac:rich-text-body><ac:structured-macro ac:name="html" ac:schema-version="1" ac:macro-id="3d6573e5-b0b8-486f-9c53-4b18766e6eb8"><ac:plain-text-body><![CDATA[<div style="font-family:monospace;font-size:large;line-height:normal;overflow:auto;white-space:nowrap;">
    <div style="float:left;min-width:100%;" tabindex="0">
<pre style="font-size:medium;">
(
    dlFile=/tmpfs/bw-cli--$$
    wget -qO "${dlFile}.zip" 'https://bitwarden.com/download/?app=cli&platform=linux'
    unzip "${dlFile}" -d "/usr/local/bin/"
    rm -rf "${dlFile}.zip"
)

</pre>
    </div>
</div>]]></ac:plain-text-body></ac:structured-macro></ac:rich-text-body></ac:structured-macro><h2>Installer</h2><p>Pick the appropriate <a href="https://console.redhat.com/openshift/create">installation type</a>.</p><ac:structured-macro ac:name="info" ac:schema-version="1" ac:macro-id="7a4b2e0b-259b-41b9-a590-c577fab170f0"><ac:rich-text-body><p>Please read the <a href="https://docs.redhat.com/en/documentation/openshift_container_platform/latest/html/installation_overview/index">Installation Overview</a> documentation to guide yourself.</p></ac:rich-text-body></ac:structured-macro><h2>SSH Key</h2><p>A common SSH Key should be use during OCP installation so everyone have SSH access to the nodes.</p><ac:structured-macro ac:name="panel" ac:schema-version="1" ac:macro-id="5795fdf5-b248-42ea-98a2-42d3d5756321"><ac:parameter ac:name="borderColor">black</ac:parameter><ac:parameter ac:name="borderStyle">solid</ac:parameter><ac:parameter ac:name="title">Installing Group ID.</ac:parameter><ac:rich-text-body><ac:structured-macro ac:name="html" ac:schema-version="1" ac:macro-id="c4a8d08f-8883-4c39-8ad2-020aa7223614"><ac:plain-text-body><![CDATA[<div style="font-family:monospace;font-size:large;line-height:normal;overflow:auto;white-space:nowrap;">
    <div style="float:left;min-width:100%;" tabindex="0">
<pre style="font-size:medium;">
# Get SSH Key `openshift-qe`.
(
    bwNoteName='key.openshift-qe'
    export BW_SESSION="$((bw status | grep -q '"status":"unlocked"') &amp;&amp; echo "${BW_SESSION}" || bw unlock --raw || bw login --raw)"
    [ -n "${BW_SESSION}" ] &amp;&amp; bw sync || {
        echo 'You do NOT have an active and sync:ed BitWarden Session!!!' 1&gt;&amp;2
        exit 1
    }
    cd "${HOME}/.ssh"
    eval "$(
        bw get notes "${bwNoteName}" || {
            echo "You may NOT have access to BitWarden Note \`${bwNoteName}\`." 1&gt;&amp;2
            echo 'exit 1'
        }
    )"
)

</pre>
    </div>
</div>]]></ac:plain-text-body></ac:structured-macro></ac:rich-text-body></ac:structured-macro><h1>Authorization Management</h1><p>Various Rover Groups are used as authorization management.</p><h2>IENG Tenant on ITUP.scale Cluster</h2><p>The <a href="https://console-openshift-console.apps.prod-scale-spoke1-aws-us-east-1.itup.redhat.com/">OCP Cluster</a> for hosting VM to be used as workstation.</p><p>Access Control:</p><ul><li><a href="https://rover.redhat.com/groups/group/ieng-vm-farm---users">IENG VM Farm - Users</a></li><li><a href="https://rover.redhat.com/groups/group/ieng-vm-farm---administrators">IENG VM Farm - Administrators</a></li></ul><h2>IENG AWS Acccount</h2><p>The <ac:link><ri:page ri:content-title="Cloud - AWS Account" /><ac:plain-text-link-body><![CDATA[Cloud Environment]]></ac:plain-text-link-body></ac:link> for OCP Cluster Test Bed.</p><p>Access Control:</p><ul><li><a href="https://rover.redhat.com/groups/group/it-cloud-aws-624914081466-readonlywithinstanceconnect">SSO Assume Role Users</a></li><li><a href="https://rover.redhat.com/groups/group/it-cloud-aws-624914081466-poweruser">SSO Assume Role Power Users</a></li><li><a href="https://rover.redhat.com/groups/group/it-cloud-aws-624914081466-admin">SSO Assume Role Administrators</a></li></ul><p>Setting up CLI env.: Follow this <a href="https://docs.google.com/document/d/1yziT4KU2BhreGP7r1c9LySoW_MseQ5dDqpp6Cm3-18M/view">guide</a>.</p><h2>BitWarden &quot;IENG VM Farm Users&quot; Collection</h2><p>The Group Collection to store confidential information</p><p>Access Control:</p><ul><li><a href="https://rover.redhat.com/groups/group/ieng-vm-farm---users">IENG VM Farm - Users</a> (R/O)</li><li><a href="https://rover.redhat.com/groups/group/ieng-secret-vault-bw">IENG Secret Vault BW</a> (R/W)</li></ul><p><br /></p>
